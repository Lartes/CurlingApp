# CurlingApp

Приложение под iOS - помощник для керлеров.

### Идея

Когда наша команда начала играть на совернованиях, мы обнаружили одно неудобство. Наш тренер могла присутствовать не на всех наших играх и, соответственно, не могла потом разбирать нашу тактику. А самостоятельно запомнить все игровые ситуации за 8 эндов - практически невыполнимая задача. Тогда и пришла идея создать приложение, которое помогало бы решить эту проблему. В нем можно было бы записывать ход всей игры и затем разбирать ее вместе с тренером. Причем им можно было бы пользоваться и просто для изучения тактики, для записи интересных положений и путей выхода из них.

### Правила керлинга

Кёрлинг - зимний олимпийский вид спорта, в котором две команды соревнуются на площадке с ледовой поверхностью. Цель игры - попасть пущенным по льду камнем в вычерченную мишень, как можно ближе к её центру.

В одном раунде игры, называемом "эндом", каждая команда бросает по 8 камней. Броски команды производят поочерёдно. Открывает новый энд победитель предыдущего. При ничьей в последнем энде первым бросает победитель предпоследнего энда.

После расстановки всех 16 камней тот, чей камень ближе к центру дома, объявляется победителем. Он получает по очку за каждый камень, стоящий ближе к центру, чем камень оппонента. Считаются только то камни, которые находятся в доме.

После каждого энда очки суммируются, и победитель всей партии тот, кто по итогам всех эндов набрал наибольшее количество очков.

Подробное [описание](https://ru.wikipedia.org/wiki/Кёрлинг#Правила_игры)

## Описание приложения

Приложение позволяет записывать ход и результаты игр между командами. Каждая игра может состоять из любого количества эндов. В ходе энда логгируются позиции всех камней.

![](https://github.com/Lartes/CurlingApp/blob/master/ReadmeImages/image_1.png)

1. Анимация загрузки
2. Просмотр списка игр. Можно просмотреть все существующие игры в формате Игравшие команды - счет, начать новую игру или синхронизацию с облаком.
3. Создание новой игры. Вводятся названия команда и цвета их камней. Первая команда кидает первый камень.
4. Запись энда. На игровой дорожке расставляется игровая ситуация, нажимается кнопка Далее. После чего появляется новый камень следующей команды и расстановку камней можно снова поменять. Сверху отображается количество оставшихся камней Игровая дорожка прокручивается, т.к. ее длина достаточно большая. Энд заканчивается, когда все камни будут брошены. Если выйти из игры на данном этапе, то результаты текущего энда не будут сохранены, но остальная игра сохранится.

![](https://github.com/Lartes/CurlingApp/blob/master/ReadmeImages/image_2.png)

5. Завершение энда / игры. Вводится счет энда, после чего можно либо начать новый энд, либо завершить игру.
6. Просмотр информации об игре. Выводятся названия команд, счет игры и счет по эндам. Можно перейти к просмотру конкретного энда, нажав на него. Также можно удалить игру.
7. Просмотр игры. Переключение между шагами осуществляется по кнопкам. В конце энда можно перейти на следующий энд, в начала энда - на предыдущий. На конкретном шаге можно изменять расстановку комней для разбора тактики, но эти изменения сохранены не будут и сбросятся при переключении шага.
8. Синхронизация с Dropbox.
* Авторизация. Происходит перенаправление в Safari, где нужно пройти авторизацию, после чего управление возвращается приложению.
* Сохранение. Происходит сохранение в Dropbox с перезаписыванием уже имеющихся данных. Проигрывется анимация ожидания.
* Загрузка. Присходит загрузка данных из Dropbox с перезаписыванием локальной базы данных. Проигрывается анимация ожидания.

У пользователя запрашиваются подтверждения на все действия, которые нельзя обратить, такие как выход из энда или перезапись базы данных.
